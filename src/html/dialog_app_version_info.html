<!DOCTYPE html>
<html lang="en" data-ng-app="app">
<head>
    <meta charset="utf-8"/>
    <title>About</title>
    <meta name="description" content="Angularjs, Html5, Music, Landing, 4 in 1 ui kits package"/>
    <meta name="keywords"
          content="AngularJS, angular, bootstrap, admin, dashboard, panel, app, charts, components,flat, responsive, layout, kit, ui, route, web, app, widgets"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <link rel="stylesheet" href="../../assets/libs/assets/animate.css/animate.css" type="text/css"/>
    <link rel="stylesheet" href="../../assets/libs/assets/font-awesome/css/font-awesome.min.css" type="text/css"/>
    <link rel="stylesheet" href="../../assets/libs/assets/simple-line-icons/css/simple-line-icons.css" type="text/css"/>
    <link rel="stylesheet" href="../../assets/libs/jquery/bootstrap/dist/css/bootstrap.css" type="text/css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../assets/libs/angular/angularjs-toaster/toaster.css" type="text/css"/>
    <link rel="stylesheet" href="../../assets/css/styles.css" type="text/css"/>

    <link rel="stylesheet" href="../../assets/css/app.min.css">
</head>
<body>
<div class="app updater">
    <div id="app" class="app-content-body fade-in-top" style="height: 100%; width: 100%; overflow: auto;">
        <div style="margin: auto; text-align: center;">
            <div style="width: 350px;" class="form-box loading" id="box">

                <div class="logo">
                    <img src="../../assets/img/awery_erp.svg" class="awery-logo">
                </div>

                <!--<h3 style="width: 100%; text-align: center; display: block;" id="app_name"></h3>-->

                <table style="width: 100%;">
                    <tr>
                        <td style="width: 50%; padding-right: 8px; padding-left: 8px;" align="right">App version</td>
                        <td style="width: 50%; padding-right: 8px; padding-left: 8px;" align="left" id="app_version"></td>
                    </tr>
                    <tr>
                        <td style="width: 50%; padding-right: 8px; padding-left: 8px;" align="right">Electron version</td>
                        <td style="width: 50%; padding-right: 8px; padding-left: 8px;" align="left" id="electron_version"></td>
                    </tr>
                    <tr>
                        <td style="width: 50%; padding-right: 8px; padding-left: 8px;" align="right">Flash Player Version</td>
                        <td style="width: 50%; padding-right: 8px; padding-left: 8px;" align="left" id="flash_version"></td>
                    </tr>
                    <tr>
                        <td style="width: 50%; padding-right: 8px; padding-left: 8px;" align="right">ERP Version</td>
                        <td style="width: 50%; padding-right: 8px; padding-left: 8px;" align="left" id="acm_ng_local_files"></td>
                    </tr>
                    <tr>
                        <td style="width: 50%; padding-right: 8px; padding-left: 8px;" align="right">ERP Version Flex</td>
                        <td style="width: 50%; padding-right: 8px; padding-left: 8px;" align="left" id="acm_local_files"></td>
                    </tr>
                </table>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    let app = require('electron').remote.app;
    let ipcRenderer = require('electron').ipcRenderer;

    let appVersion = app.getVersion();
    let electronVersion = process.versions.electron;
    let flashVersion = getFlashVersion();

    // document.getElementById('app_name').innerHTML = appName;
    document.getElementById('app_version').innerHTML = appVersion;
    document.getElementById('electron_version').innerHTML = electronVersion;
    document.getElementById('flash_version').innerHTML = flashVersion;

    ipcRenderer.on('set-version-as', function (event, args) {
        document.getElementById('acm_local_files').innerHTML = parseFloat(args);
    });
    ipcRenderer.on('set-ng-version-as', function (event, args) {
        document.getElementById('acm_ng_local_files').innerHTML = args;
    });

    ipcRenderer.send('load-local-cdn-version');


    function getFlashVersion() {
        try {
            if (navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin) {
                return (navigator.plugins["Shockwave Flash 2.0"] || navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g, ".").match(/^,?(.+),?$/)[1];
            }
        } catch (e) {
        }
        return '0,0,0';
    }
</script>
<!-- Lazy loading -->
</body>
</html>
